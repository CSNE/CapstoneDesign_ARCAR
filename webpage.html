<!DOCTYPE html>
<html>
<head>
<title>ARCAR Web Renderer</title>
<script type="module" src="./webpage.js"></script>
<script>

</script>
</head>

<body>

<div id="information"></div>
<div id="objson"></div>
<img id="raw"></img>
<img id="seg"></img>
<img id="dep"></img>
<img id="com"></img>
<canvas width="640" height="480" id="cvs"></canvas>
<style>
img{
	width:480px;
	height:360px;
}
</style>


<script>
	var infoDiv=document.getElementById("information");
	var objsonDiv=document.getElementById("objson");
	var rawImg=document.getElementById("raw");
	var segImg=document.getElementById("seg");
	var depImg=document.getElementById("dep");
	var comImg=document.getElementById("com");
	
	
	function periodic(){
		var xhr=new XMLHttpRequest();
		xhr.open("GET","/information");
		xhr.addEventListener("load",function(e){
			if (xhr.status==200) infoDiv.innerHTML=xhr.responseText;
		});
		xhr.addEventListener("error",function(e){
			console.log("Request errored.");
		});
		xhr.overrideMimeType("text/plain");
		xhr.send();
		
		rawImg.src="raw.jpg?forcereload="+(new Date()).getTime();
		segImg.src="seg.jpg?forcereload="+(new Date()).getTime();
		depImg.src="dep.jpg?forcereload="+(new Date()).getTime();
		comImg.src="com.jpg?forcereload="+(new Date()).getTime();
	}
	setInterval(periodic,200);
</script>
</body>


</html>
